{"version":3,"sources":["js/components/theme-switcher.js","js/components/localStorage.js","js/components/team-modal.js","library.js"],"names":["themeSwitcherToggleRef","document","querySelector","bodyRef","switchTheme","e","switchThemeOnBackground","localStorageDataSet","classList","toggle","localStorage","setItem","checked","localStorageDataGet","initialState","getItem","addEventListener","buttonToW","buttonToQ","onMovieCardClickWatched","idCardW","id","pushMoviesW","moviesW","putMovieWatched","getMovieWatched","movieLocalStorageW","keyW","JSON","parse","index","indexOf","push","splice","stringify","add","classNameActive","textContent","labelRemove","remove","labelAdd","console","log","onMovieCardClickQueue","idCardQ","pushMoviesQ","moviesQ","putMovieQueue","getMovieQueue","movieLocalStorageQ","keyQ","refs","body","openTeamModal","teamModal","backdropTeamModal","openModal","preventDefault","window","escKey","backdropClick","closeTeamModal","removeEventListener","currentTarget","target","code"],"mappings":"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","file":"library.1c86d760.js","sourceRoot":"../src","sourcesContent":["const themeSwitcherToggleRef = document.querySelector('.toggle-input');\nconst bodyRef = document.querySelector('.js-body');\n\nlocalStorageDataGet();\n\nthemeSwitcherToggleRef.addEventListener('change', switchTheme);\n\nfunction switchTheme(e) {\n  switchThemeOnBackground();\n\n  localStorageDataSet();\n}\n\nfunction switchThemeOnBackground() {\n  bodyRef.classList.toggle('night');\n}\n\nfunction localStorageDataSet() {\n  localStorage.setItem('toggleState', themeSwitcherToggleRef.checked);\n}\n\nfunction localStorageDataGet() {\n  const initialState = localStorage.getItem('toggleState') === 'true';\n\n  themeSwitcherToggleRef.checked = initialState;\n\n  if (initialState) {\n    switchThemeOnBackground();\n  }\n}\n","export default function () {\n  const buttonToW = document.querySelector('.js-watched');\n  const buttonToQ = document.querySelector('.js-queue');\n\n  buttonToW.addEventListener('click', onMovieCardClickWatched);\n  buttonToQ.addEventListener('click', onMovieCardClickQueue);\n\n  const classNameActive = 'modalBtnWat-active';\n  const labelAdd = 'Add to watched';\n  const labelRemove = 'Remove from watched';\n\n  function onMovieCardClickWatched(e) {\n    idCardW();\n\n    console.log('clickW');\n  }\n  function onMovieCardClickQueue(e) {\n    idCardQ();\n\n    console.log('clickQ');\n  }\n\n  function idCardW(id) {\n    const { pushMoviesW, moviesW } = putMovieWatched('23');\n    if (pushMoviesW) {\n      buttonToW.classList.add(classNameActive);\n      buttonToW.textContent = labelRemove;\n    } else {\n      buttonToW.classList.remove(classNameActive);\n      buttonToW.textContent = labelAdd;\n    }\n  }\n\n  function idCardQ(id) {\n    const { pushMoviesQ, moviesQ } = putMovieQueue('30');\n    if (pushMoviesQ) {\n      buttonToQ.classList.add(classNameActive);\n      buttonToQ.textContent = labelRemove;\n    } else {\n      buttonToQ.classList.remove(classNameActive);\n      buttonToQ.textContent = labelAdd;\n    }\n  }\n\n  const keyW = 'w';\n  const keyQ = 'q';\n\n  function getMovieWatched() {\n    const movieLocalStorageW = localStorage.getItem(keyW);\n\n    if (movieLocalStorageW !== null) {\n      return JSON.parse(movieLocalStorageW);\n    }\n    return [];\n  }\n\n  function getMovieQueue() {\n    const movieLocalStorageQ = localStorage.getItem(keyQ);\n\n    if (movieLocalStorageQ !== null) {\n      return JSON.parse(movieLocalStorageQ);\n    }\n    return [];\n  }\n\n  function putMovieWatched(id) {\n    let moviesW = getMovieWatched();\n    let pushMoviesW = false;\n    const index = moviesW.indexOf(id);\n\n    if (index === -1) {\n      moviesW.push(id);\n      pushMoviesW = true;\n    } else {\n      moviesW.splice(index, 1);\n    }\n\n    localStorage.setItem(keyW, JSON.stringify(moviesW));\n\n    return { pushMoviesW, moviesW };\n  }\n\n  function putMovieQueue(id) {\n    let moviesQ = getMovieQueue();\n    let pushMoviesQ = false;\n    const index = moviesQ.indexOf(id);\n\n    if (index === -1) {\n      moviesQ.push(id);\n      pushMoviesQ = true;\n    } else {\n      moviesQ.splice(index, 1);\n    }\n\n    localStorage.setItem(keyQ, JSON.stringify(moviesQ));\n\n    return { pushMoviesQ, moviesQ };\n  }\n}\n","const refs = {\n  body: document.querySelector('body'),\n  openTeamModal: document.querySelector('.team_link'),\n  teamModal: document.querySelector('.js-team-modal'),\n  backdropTeamModal: document.querySelector('.team-backdrop'),\n};\n\nrefs.openTeamModal.addEventListener('click', openModal);\n\nfunction openModal(e) {\n  e.preventDefault();\n  window.addEventListener('keydown', escKey);\n  refs.backdropTeamModal.addEventListener('click', backdropClick);\n  refs.body.classList.add('modal-team-open');\n  refs.teamModal.classList.remove('is-hiddden');\n}\n\nfunction closeTeamModal() {\n  window.removeEventListener('keydown', escKey);\n  refs.body.classList.remove('modal-team-open');\n  refs.teamModal.classList.add('is-hiddden');\n  refs.backdropTeamModal.removeEventListener('click', backdropClick);\n}\n\nfunction backdropClick(e) {\n  if (e.currentTarget === e.target) {\n    closeTeamModal();\n  }\n}\n\nfunction escKey(e) {\n  if (e.code === 'Escape') {\n    closeTeamModal();\n  }\n}","//üçÖ–¢—É—Ç –∏–º–ø–æ—Ä—Ç —Å—Ç–∏–ª–µ–π:\nimport './sass/main.scss';\n//üçÖ–¢—É—Ç –∏–º–ø–æ—Ä—Ç js —Ñ–∞–π–ª–æ–≤:\nimport './js/components/theme-switcher.js';\nimport './js/components/localStorage';\nimport './js/components/team-modal';\n"]}